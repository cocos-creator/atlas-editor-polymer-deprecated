var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(t){var n=e.URL&&e.URL.revokeObjectURL||e.webkitURL&&e.webkitURL.revokeObjectURL||e.revokeObjectURL;return n(t)},o=function(t){var n=e.URL&&e.URL.createObjectURL||e.webkitURL&&e.webkitURL.createObjectURL||e.createObjectURL;return n(t)},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i=!e.externalHost&&"download"in r,a=function(n){var o=t.createEvent("MouseEvents");o.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)},u=e.webkitRequestFileSystem,c=e.requestFileSystem||u||e.mozRequestFileSystem,d=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},f="application/octet-stream",s=0,l=[],v=function(){for(var e=l.length;e--;){var t=l[e];"string"==typeof t?n(t):t.remove()}l.length=0},w=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(i){d(i)}}},p=function(t,n){var d,v,p,R=this,y=t.type,b=!1,m=function(){var e=o(t);return l.push(e),e},O=function(){w(R,"writestart progress write writeend".split(" "))},g=function(){(b||!d)&&(d=m(t)),v?v.location.href=d:window.open(d,"_blank"),R.readyState=R.DONE,O()},h=function(e){return function(){return R.readyState!==R.DONE?e.apply(this,arguments):void 0}},E={create:!0,exclusive:!1};return R.readyState=R.INIT,n||(n="download"),i?(d=m(t),r.href=d,r.download=n,a(r),R.readyState=R.DONE,void O()):(e.chrome&&y&&y!==f&&(p=t.slice||t.webkitSlice,t=p.call(t,0,t.size,f),b=!0),u&&"download"!==n&&(n+=".download"),(y===f||u)&&(v=e),c?(s+=t.size,void c(e.TEMPORARY,s,h(function(e){e.root.getDirectory("saved",E,h(function(e){var o=function(){e.getFile(n,E,h(function(e){e.createWriter(h(function(n){n.onwriteend=function(t){v.location.href=e.toURL(),l.push(e),R.readyState=R.DONE,w(R,"writeend",t)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&g()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=R["on"+e]}),n.write(t),R.abort=function(){n.abort(),R.readyState=R.DONE},R.readyState=R.WRITING}),g)}),g)};e.getFile(n,{create:!1},h(function(e){e.remove(),o()}),h(function(e){e.code===e.NOT_FOUND_ERR?o():g()}))}),g)}),g)):void g())},R=p.prototype,y=function(e,t){return new p(e,t)};return R.abort=function(){var e=this;e.readyState=e.DONE,w(e,"abort")},R.readyState=R.INIT=0,R.WRITING=1,R.DONE=2,R.error=R.onwritestart=R.onprogress=R.onwrite=R.onabort=R.onerror=R.onwriteend=null,e.addEventListener("unload",v,!1),y.unload=function(){v(),e.removeEventListener("unload",v,!1)},y}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:"undefined"!=typeof define&&null!==define&&null!=define.amd&&define([],function(){return saveAs});